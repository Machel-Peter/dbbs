(function(jQuery){var h='newsTicker';function runTicker(a){tickerData=jQuery(a.newsList).data('newsTicker');if(tickerData.currentItem>tickerData.newsItemCounter){tickerData.currentItem=0}else if(tickerData.currentItem<0){tickerData.currentItem=tickerData.newsItemCounter}if(tickerData.currentPosition==0){if(tickerData.newsLinks[tickerData.currentItem].length>0){jQuery(tickerData.newsList).empty().append('<li><a href="'+tickerData.newsLinks[tickerData.currentItem]+'"></a></li>')}else{jQuery(tickerData.newsList).empty().append('<li></li>')}}if(tickerData.animating){if(tickerData.currentPosition%2==0){var b=tickerData.placeHolder1}else{var b=tickerData.placeHolder2}if(tickerData.currentPosition<tickerData.newsItems[tickerData.currentItem].length){var c=tickerData.newsItems[tickerData.currentItem].substring(0,tickerData.currentPosition);if(tickerData.newsLinks[tickerData.currentItem].length>0){jQuery(tickerData.newsList+' li a').text(c+b)}else{jQuery(tickerData.newsList+' li').text(c+b)}tickerData.currentPosition++;setTimeout(function(){runTicker(a);a=null},tickerData.tickerRate)}else{if(tickerData.newsLinks[tickerData.currentItem].length>0){jQuery(tickerData.newsList+' li a').text(tickerData.newsItems[tickerData.currentItem])}else{jQuery(tickerData.newsList+' li').text(tickerData.newsItems[tickerData.currentItem])}setTimeout(function(){if(tickerData.animating){tickerData.currentPosition=0;tickerData.currentItem++;runTicker(a);a=null}},tickerData.loopDelay)}}else{var c=tickerData.newsItems[tickerData.currentItem];if(tickerData.newsLinks[tickerData.currentItem].length>0){jQuery(tickerData.newsList+' li a').text(c)}else{jQuery(tickerData.newsList+' li').text(c)}}}jQuery.fn[h]=function(b){var c=jQuery.extend({},jQuery.fn.newsTicker.defaults,b);var d=new Array();var e=new Array();var f=0;jQuery(c.newsList+' li').hide();jQuery(c.newsList+' li').each(function(){if(jQuery(this).children('a').length){d[f]=jQuery(this).children('a').text();e[f]=jQuery(this).children('a').attr('href')}else{d[f]=jQuery(this).text();e[f]=''}f++});var g=jQuery(c.newsList);g.data(h,{newsList:c.newsList,tickerRate:c.tickerRate,startDelay:c.startDelay,loopDelay:c.loopDelay,placeHolder1:c.placeHolder1,placeHolder2:c.placeHolder2,controls:c.controls,ownControls:c.ownControls,stopOnHover:c.stopOnHover,newsItems:d,newsLinks:e,newsItemCounter:f-1,currentItem:0,currentPosition:0,firstRun:1}).bind({stop:function(a){tickerData=g.data(h);if(tickerData.animating){tickerData.animating=false}},play:function(a){tickerData=g.data(h);if(!tickerData.animating){tickerData.animating=true;setTimeout(function(){runTicker(tickerData);tickerData=null},tickerData.startDelay)}},resume:function(a){tickerData=g.data(h);if(!tickerData.animating){tickerData.animating=true;tickerData.currentPosition=0;tickerData.currentItem++;runTicker(tickerData)}},next:function(a){tickerData=g.data(h);jQuery(tickerData.newsList).trigger("stop");tickerData.currentPosition=0;tickerData.currentItem++;runTicker(tickerData)},previous:function(a){tickerData=g.data(h);jQuery(tickerData.newsList).trigger("stop");tickerData.currentPosition=0;tickerData.currentItem--;runTicker(tickerData)}});if(c.stopOnHover){g.bind({mouseover:function(a){tickerData=g.data(h);if(tickerData.animating){jQuery(tickerData.newsList).trigger("stop");if(tickerData.controls){jQuery('.stop').hide();jQuery('.resume').show()}}}})}tickerData=g.data(h);if(tickerData.controls||tickerData.ownControls){if(!tickerData.ownControls){jQuery('<ul class="ticker-controls"><li class="play"><a href="#play">Play</a></li><li class="resume"><a href="#resume">Resume</a></li><li class="stop"><a href="#stop">Stop</a></li><li class="previous"><a href="#previous">Previous</a></li><li class="next"><a href="#next">Next</a></li></ul>').insertAfter(jQuery(tickerData.newsList))}jQuery('.play').hide();jQuery('.resume').hide();jQuery('.play').click(function(a){jQuery(tickerData.newsList).trigger("play");jQuery('.play').hide();jQuery('.resume').hide();jQuery('.stop').show();a.preventDefault()});jQuery('.resume').click(function(a){jQuery(tickerData.newsList).trigger("resume");jQuery('.play').hide();jQuery('.resume').hide();jQuery('.stop').show();a.preventDefault()});jQuery('.stop').click(function(a){jQuery(tickerData.newsList).trigger("stop");jQuery('.stop').hide();jQuery('.resume').show();a.preventDefault()});jQuery('.previous').click(function(a){jQuery(tickerData.newsList).trigger("previous");jQuery('.stop').hide();jQuery('.resume').show();a.preventDefault()});jQuery('.next').click(function(a){jQuery(tickerData.newsList).trigger("next");jQuery('.stop').hide();jQuery('.resume').show();a.preventDefault()})};jQuery(tickerData.newsList).trigger("play")};jQuery.fn[h].defaults={newsList:"#news",tickerRate:80,startDelay:100,loopDelay:3000,placeHolder1:" |",placeHolder2:"_",controls:true,ownControls:true,stopOnHover:true}})(jQuery);(function(jQuery){jQuery.fn.lavaLamp=function(o){o=jQuery.extend({fx:"linear",speed:500,click:function(){}},o||{});return this.each(function(){var b=jQuery(this),c=function(){},d=jQuery('<li class="back" style="top:30px;"><div class="left"></div></li>').appendTo(b),e=jQuery("li",this),f=jQuery("li.current",this)[0]||jQuery(e[0]).addClass("current")[0];e.not(".back").hover(function(){move(this)},c);jQuery(this).hover(c,function(){move(f)});setCurr(f);function setCurr(a){_0=Number(jQuery(a).css("margin-left").replace('px',''));_1=Number(jQuery(a).css("margin-right").replace('px',''));d.css({"left":a.offsetLeft+"px","width":a.offsetWidth+"px","top":a.offsetTop+"px"});f=a};function move(a){d.css('top',a.offsetTop);d.each(function(){jQuery(this).dequeue()}).animate({width:a.offsetWidth,left:a.offsetLeft},o.speed,o.fx)}})}})(jQuery);
